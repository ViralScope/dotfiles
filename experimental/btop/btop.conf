#? Config file for btop v.1.4.6
#? Optimized for developer workflow and system monitoring

# ==================== APPEARANCE ====================

#* Theme configuration
color_theme = "tokyo-night"
theme_background = true              # Set false for terminal transparency
truecolor = true
rounded_corners = true
force_tty = false

#* Graph symbols: "braille" (highest detail), "block" (balanced), "tty" (compatible)
#* Recommendation: Use "braille" if font supports it (e.g., Nerd Fonts), otherwise "block"
graph_symbol = "braille"             # Higher resolution; revert to "block" if you see missing characters
graph_symbol_cpu = "default"
graph_symbol_gpu = "default"
graph_symbol_mem = "default"
graph_symbol_net = "default"
graph_symbol_proc = "default"

#* Clock format: strftime formatting | /host /user /uptime for special values
clock_format = "%F %T"               # ISO 8601: YYYY-MM-DD HH:MM:SS

# ==================== LAYOUT & PRESETS ====================

#* Keyboard navigation
vim_keys = true                      # h,j,k,l navigation (Shift+h for help, Shift+k for kill)

#* Box visibility and arrangement
shown_boxes = "cpu mem net proc"

#* Layout presets (0-9): Switch with F2 key
#* Format: "box:position:graph" - position 0=default 1=alternate
presets = "cpu:1:default,proc:0:default cpu:0:braille,mem:0:braille,net:0:braille cpu:0:block,net:0:tty"

proc_left = false                    # Process box on right (standard layout)
cpu_bottom = false                   # CPU at top
mem_below_net = false                # Memory above network

# ==================== PERFORMANCE ====================

#* Update interval: Minimum 100ms, recommended 1000-2000ms for stable graphs [web:22]
#* Lower values increase CPU usage and may cause input lag on slower systems
update_ms = 1000                     # 1 second = smooth updates with minimal overhead

#* UI responsiveness
terminal_sync = true                 # Reduces flicker on supported terminals
background_update = true             # Update when menus open (disable if menus flicker)

# ==================== CPU MONITORING ====================

#* CPU display configuration
cpu_graph_upper = "Auto"             # Top half: Auto-select best metric
cpu_graph_lower = "Auto"             # Bottom half: Auto-select best metric
cpu_invert_lower = true              # Flip lower graph for visual distinction
cpu_single_graph = false             # Show both upper/lower graphs

#* CPU information display
show_uptime = true
show_cpu_freq = true
freq_mode = "average"                # "first"|"average"|"highest"|"lowest"|"range"
show_cpu_watts = true                # Requires root/setcap for accurate readings
custom_cpu_name = ""                 # Override CPU name (leave empty for auto-detect)

#* Temperature monitoring
check_temp = true
cpu_sensor = "Auto"
show_coretemp = true                 # Show per-core temps
cpu_core_map = ""                    # Manual core-to-sensor mapping if needed
temp_scale = "celsius"

#* GPU integration (if available)
show_gpu_info = "Auto"               # Show GPU info in CPU box
shown_gpus = "nvidia amd intel"
gpu_mirror_graph = true

# Custom GPU names (optional overrides)
custom_gpu_name0 = ""
custom_gpu_name1 = ""
custom_gpu_name2 = ""
custom_gpu_name3 = ""
custom_gpu_name4 = ""
custom_gpu_name5 = ""

# GPU performance monitoring (may impact performance on some cards)
nvml_measure_pcie_speeds = true
rsmi_measure_pcie_speeds = true

# ==================== MEMORY & DISK ====================

#* Memory display
mem_graphs = true                    # Graphs vs. meters
show_swap = true
swap_disk = true                     # Show swap as disk entry
show_disks = true                    # Disk info in memory box
zfs_arc_cached = true                # Count ZFS ARC as cached (if using ZFS)

#* Disk filtering and display
only_physical = true                 # Hide network/RAM disks
use_fstab = true                     # Read from /etc/fstab (overrides only_physical)
zfs_hide_datasets = false            # Show ZFS datasets individually
disk_free_priv = false               # Show privileged user available space
disks_filter = ""                    # Filter: "/mnt/data /boot" or "exclude=/tmp"

#* Disk I/O monitoring
show_io_stat = true                  # Show disk busy time %
io_mode = false                      # Toggle large I/O graphs (F2 to switch)
io_graph_combined = false            # Separate read/write in I/O mode
io_graph_speeds = ""                 # Custom speeds: "/mnt/nvme:500 /:100"

# ==================== NETWORK ====================

#* Network speed configuration
net_download = 100                   # Mbps (ignored if net_auto=true)
net_upload = 100
net_auto = true                      # Auto-scale graphs (recommended)
net_sync = true                      # Sync upload/download scales
net_iface = ""                       # Default interface (empty=auto)
base_10_bitrate = "Auto"             # "True"=Kbps "False"=Kibps "Auto"=follows base_10_sizes

# ==================== PROCESS LIST ====================

#* Process sorting and display
proc_sorting = "cpu lazy"            # "cpu lazy"|"cpu direct"|"memory"|"pid"|"program"
proc_reversed = false                # Reverse sort order
proc_tree = false                    # Hierarchical view (enable for parent-child relationships)
proc_aggregate = false               # Accumulate child resources in parent (tree-view only)

#* Process list styling
proc_colors = true                   # Use CPU graph colors
proc_gradient = true                 # Gradient effect
proc_cpu_graphs = true               # Mini CPU graph per process

#* CPU/Memory calculation methods
proc_per_core = false                # false=total CPU%, true=per-core% (200%=2 cores maxed) [web:23]
proc_mem_bytes = true                # true=MB/GB, false=percentage (bytes better for dev work)

#* Memory accuracy (WARNING: High performance cost) [web:2][web:26]
proc_info_smaps = false              # Use /proc/[pid]/smaps - very slow, only enable for debugging

#* Process management
proc_filter_kernel = false           # Hide kernel threads (like htop)
keep_dead_proc_usage = false         # Preserve stats for dead processes when paused

# ==================== BATTERY ====================

show_battery = true
selected_battery = "Auto"
show_battery_watts = true            # Show power draw (W)

# ==================== UNITS ====================

base_10_sizes = false                # false=1024(KiB), true=1000(KB)

# ==================== SYSTEM ====================

#* Logging and persistence
log_level = "WARNING"                # ERROR|WARNING|INFO|DEBUG (INFO adds overhead)
save_config_on_exit = true           # Auto-save config changes
